<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"

      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <f:metadata>
         <f:event type="preRenderView" listener="#{newCheckupBean.loadPreviousCheckup}" />
        <f:viewParam name="checkupId" value="#{newCheckupBean.previousCheckupId}"/>
    </f:metadata>
    
    <h:body>

        <ui:composition template="/WEB-INF/template/commonLayout.xhtml">

            <ui:define name="content">

                <ui:define name="subheader">
                    <h2><h:outputLabel value="#{msg['newCheckup.caption']}" /></h2>
                </ui:define>

                <hr />
                <h:form styleClass="form-horizontal" role="form">		   

                    <ui:include src="/WEB-INF/helper/errorList.xhtml" />

                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.starting_link']}:" />
                        <div class="col-sm-8">
                            <h:inputText styleClass="form-control" value="#{newCheckupBean.startingLink}" label="#{msg['newCheckup.starting_link']}" />
                        </div>
                    </div>

                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.desired_checkups']}:" />
                        <div class="col-sm-8 checkbox">
                            <h:selectManyCheckbox value="#{newCheckupBean.desiredCheckups}" label="#{msg['newCheckup.desired_checkups']}" >
                                <f:selectItems value="#{newCheckupBean.checkupsAvailable}" />
                            </h:selectManyCheckbox>
                        </div>
                    </div>

                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.allowed_domains']}:" />
                        <div class="col-sm-8">
                            <h:inputTextarea styleClass="form-control" value="#{newCheckupBean.domainsAllowed}" label="#{msg['newCheckup.allowed_domains']}">		
                                <f:converter converterId="DomainListConverter" />
                            </h:inputTextarea>
                        </div>
                    </div>

                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.max_crawling_depth']}:" />
                        <div class="col-sm-8">
                            <h:inputText styleClass="form-control" value="#{newCheckupBean.maxCrawlingDepth}" label="#{msg['newCheckup.max_crawling_depth']}" />	
                        </div>
                    </div>

                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.min_request_interval']}:" />
                        <div class="col-sm-8">
                            <h:inputText styleClass="form-control" value="#{newCheckupBean.minRequestInterval}" label="#{msg['newCheckup.min_request_interval']}" />
                        </div>
                    </div>

                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.page_limit']}:" />
                        <div class="col-sm-8">
                            <h:inputText styleClass="form-control" value="#{newCheckupBean.pageLimit}" label="#{msg['newCheckup.page_limit']}" />	
                        </div>
                    </div>


                    <div class="form-group">
                        <h:outputLabel styleClass="col-sm-4 control-label" value="#{msg['newCheckup.http_headers']}:" />
                        <div class="col-sm-8">
                            <h:inputTextarea styleClass="form-control" value="#{newCheckupBean.httpHeaders}" label="#{msg['newCheckup.http_headers']}" >		
                                <f:converter converterId="HttpHeadersConverter" />
                            </h:inputTextarea>
                        </div>
                    </div>

                    <h:commandButton styleClass="btn btn-primary" value="#{msg['newCheckup.submit']}" action="#{newCheckupBean.startValidation}" />			

                </h:form>

            </ui:define>

        </ui:composition>

    </h:body>

</html>
